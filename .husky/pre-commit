echo "🔧 Running Vauntico Branded Standards Enforcement..."

# Fail fast on any error
set -e

# Run audit and lint checks; block commit if either fails
if pnpm audit --audit-level=high || true; then
  if node vauntico-lint.cjs; then
    echo "✅ Vauntico standards enforced - commit allowed"
  else
    echo "❌ Commit blocked: Vauntico branded standards not met"
    exit 1
  fi
else
  echo "⚠️ Audit skipped or failed non-critically"
fi
